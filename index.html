<!DOCTYPE html>
<html>
    <head>
        <title>COVID-19 Dashboard</title>
        <!-- Bootstrap CDN -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
  		<!-- Bootswatch CSS -->
		<link rel="stylesheet" href="css/bootstrap.css">
    </head>
    <body>
        <script src="nav.js"></script>
        <div class="container">
            <section class="my-4">
                <h2>About</h1>
                This Power-BI dashboard tracks COVID-19 cases, deaths, hospitalizations, and vaccinations across the world from 2020 through 2025, 
                as well as the policies governments put in place to mitigate the effects of the pandemic. The dashboard consists of seven pages and 
                enables users to filter metrics of interest by country income, by region, and by individual countries. The data is sourced from Our World In Data, 
                a nonprofit and research group based in the University of Oxford, and can be found <a href="https://docs.owid.io/projects/etl/api/covid/">here</a>.
            </section>

            <section>
                <h2>Pages</h1>
                <!-- md-xl nav bar (one row of seven btns) -->
                <div class="d-md-flex d-sm-none justify-content-center mb-2 ">
                    <button class="btn btn-outline-dark active btn-sm mx-1">Daily Statistics</button>
                    <button class="btn btn-outline-dark btn-sm mx-1">Country Comparison</button>
                    <button class="btn btn-outline-dark btn-sm mx-1">Outbreak Map</button>
                    <button class="btn btn-outline-dark btn-sm mx-1">Total Cases Map</button>
                    <button class="btn btn-outline-dark btn-sm mx-1">Mitigation Policies</button>
                    <button class="btn btn-outline-dark btn-sm mx-1">Policy Proportions</button>
                    <button class="btn btn-outline-dark btn-sm mx-1">Policy Map</button>
                </div>
                <!-- xs-sm nav bar (two rows of four/three buttons) -->
                <div class="d-sm-flex d-md-none justify-content-center mb-2 ">
                    <button class="btn btn-outline-dark active btn-sm mx-1">Daily Statistics</button>
                    <button class="btn btn-outline-dark btn-sm mx-1">Country Comparison</button>
                    <button class="btn btn-outline-dark btn-sm mx-1">Outbreak Map</button>
                    <button class="btn btn-outline-dark btn-sm mx-1">Total Cases Map</button>
                </div>
                <div class="d-sm-flex d-md-none justify-content-center mb-2 ">
                    <button class="btn btn-outline-dark btn-sm mx-1">Mitigation Policies</button>
                    <button class="btn btn-outline-dark btn-sm mx-1">Policy Proportions</button>
                    <button class="btn btn-outline-dark btn-sm mx-1">Policy Map</button>
                </div>
                <!-- Dashboard Content (img/desc) -->
                <div class="row" id="dashboard-content">
                    <div class="col col-sm-12 col-md-8">
                        <img id="dashboard-img" class="w-100" />
                    </div>
                    <div class="col col-sm-12 col-md-4">
                        <p id="dashboard-desc"></p>
                    </div>
                </div>
                
            </section>

            <section class="my-4">
                <h2>Setup</h1>
                The files necessary to view this dashboard are available <a href="https://github.com/albeto4000/covid-dashboard">here</a>. After cloning the repository, complete the following steps:
                <ol>
                    <li>Open the covid.pbip file in Power BI</li>
                    <li>Open Power Query Editor by clicking "Transform Data"</li>
                    <li>Navigate to the FolderPath parameter and replace its value with the path to the data folder that contains your countries_coordinates.csv, countries_world_bank.csv, and oxcgrt_codes.csv files.</li>
                    <li>Click "Close and Apply" to apply the changes</li>
                    <li>Click "Refresh now" to reload the datasets. It may take a while to import the datasets from Our World In Data's website</li>
                </ol>
            </section>
        </div>
        <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script>
            page_desc = {
                "daily_statistics": "The Daily Statistics page displays an overview of new cases, deaths, hospital occupancies, and vaccinations over time. Slicers on the right allow users to filter by region, country income group, and country name. A bookmark allows users to view area plots of running totals.",
                "country_comparison": "The Country Comparison page enables users to compare metrics of interest between income groups, regions, and countries. A parameter slicer allows users to select which metric to visualize, and a bookmark creates a subplot for each selected country using small multiples.",
                "outbreak_map": "The Outbreak Map page visualizes COVID \"hot zones\", or regions of high transmission. Each country is a darker shade of red, depending on its total new cases. A slicer at the bottom allows users to select a date to measure new cases on, and a bookmark changes the metric from 'Total Cases' to 'Total Cases Per Million Citizens' to account for different population sizes.",
                "total_cases_map": "A user can view the Total Cases Map to visualize each countries' total cases over a selected time frame. Users can set the start and end dates through the slicer at the bottom. The bubble over each country grows in size depending on the number of total cases measured. The color of each bubble reflects the country's region.",
                "mitigation_policies": "The OXCGRT dataset measures what policies each country put in place to mitigate the spread of COVID-19. Users can view the efficacy of each policy on the Mitigation Policies page. Each bar represents the average cases per million in countries with the given policy. A slicer on the right allows users to select specific countries/regions, and a slicer at the bottom allows users to set the time frame.",
                "policy_proportions": "Countries changed their policies in response to rises and falls in new cases. Users can view the proportion of countries employing various policies on the Policy Proportions page, and compare it to a graph of new cases, deaths, vaccinations, and hospitalizations to understand how different policies affected different metrics.",
                "policy_map": "The policy map page shows which countries employed which policies on any given date."
            }

            $(document).ready(function(){
                $('#dashboard-img').prop('src', 'images/daily_statistics.jpg');
                $('#dashboard-desc').text(page_desc['daily_statistics']);

                $(".btn").click(function(){
                    $(".btn").removeClass("active");
                    $(this).addClass("active");
                    
                    page = $(this).text().toLowerCase().replaceAll(" ", "_")
                    img_src = "images/" + page + ".jpg";

                    $("#dashboard-content").fadeOut("fast", function(){
                        $("#dashboard-img").prop("src", img_src);
                        $('#dashboard-desc').text(page_desc[page]);
                        $("#dashboard-content").fadeIn();
                    });
                });
            })
        </script>
    </body>
</html>